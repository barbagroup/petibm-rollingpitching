# Independence and parametric studies

The present directory contains all the input files and post-processing scripts, of the PetIBM simulations for the independence study and parametric study conducted for the replication.

## Contents

* `independence`: simulations for the grid-independence study
* `scripts`: Python scripts for post-processing
* `figures`: output figures (generated by the Python scripts)
* `Re*_St*_AR*_psi*`: simulation folders of the parametric study; for example:
  * `Re200_St0.6_AR1.27_psi90`: simulation folder to compute the three-dimensional flow around a pitching and rolling flat plate with aspect ratio `AR=1.27` at Reynolds number `Re=200`, Strouhal number `St=0.6`, with a phase difference of `psi=90` degrees between the rolling and pitching motions.

## Post-processing steps

To generate the figures of the manuscript:

```shell
cd <directory-of-this-README>
docker run --rm -it -v $(pwd):/postprocessing mesnardo/petibm-rollingpitching:prepost /bin/bash /postprocessing/scripts/generate_all_figures.sh
```

Alternatively, you can log into the Docker container and generate figure by figure:

```shell
cd <directory-of-this-README>
docker run --rm -it -v $(pwd):/postprocessing mesnardo/petibm-rollingpitching:prepost /bin/bash
cd /postprocessing  # inside the container
```

then run the instructions displayed in the following sub-sections.

### History of the force coefficients (comparing Reynolds numbers)

* Script: `scripts/plot_force_coefficients_compare.Re.py`
* Simulation requirements:
  * `Re100_St0.6_AR1.27_psi90`
  * `Re200_St0.6_AR1.27_psi90`
  * `Re400_St0.6_AR1.27_psi90`
* Output: `figures/force_coefficients_compare_Re.png`
* CLI: `python scripts/plot_force_coefficients_compare_Re.py`

![fig:force_coefficients_compare_Re](figures/force_coefficients_compare_Re.png)

### History of the force coefficients (comparing wing aspect ratios)

* Script: `scripts/plot_force_coefficients_compare_AR.py`
* Simulation requirements:
  * `Re200_St0.6_AR1.27_psi90`
  * `Re200_St0.6_AR1.91_psi90`
  * `Re200_St0.6_AR2.55_psi90`
* Output: `figures/force_coefficients_compare_AR.png`
* CLI: `python scripts/plot_force_coefficients_compare_AR.py`

![fig:force_coefficients_compare_AR](figures/force_coefficients_compare_AR.png)

### History of the force coefficients (comparing phase-difference angles)

* Script: `scripts/plot_force_coefficients_compare_psi.py`
* Simulation requirements:
  * `Re200_St0.6_AR1.27_psi90`
  * `Re200_St0.6_AR1.27_psi100`
  * `Re200_St0.6_AR1.27_psi110`
  * `Re200_St0.6_AR1.27_psi120`
* Output: `figures/force_coefficients_compare_psi.png`
* CLI: `python scripts/plot_force_coefficients_compare_psi.py`

![fig:force_coefficients_compare_psi](figures/force_coefficients_compare_psi.png)

### Propulsive efficiency over the Strouhal number

* Script: `scripts/plot_efficiency_compare_St.py`
* Output: `figures/efficiency_compare_St.png`
* CLI: `python scripts/plot_efficiency_compare_St.py`

![fig:efficiency_compare_St](figures/efficiency_compare_St.png)

### Propulsive efficiency over the phase-difference angle

* Script: `scripts/plot_efficiency_compare_psi.py`
* Output: `figures/efficiency_compare_psi.png`
* CLI: `python scripts/plot_efficiency_compare_psi.py`

![fig:efficiency_compare_St](figures/efficiency_compare_psi.png)
